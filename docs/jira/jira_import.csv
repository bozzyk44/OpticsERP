Issue Type,Summary,Description,Epic Link,Priority,Story Points,Labels,Acceptance Criteria,Start Date,End Date
Epic,Phase 0: Bootstrap Infrastructure,Initial project setup: structure Docker SQLite schema Odoo modules scaffolds test data generator documentation,,Highest,0,bootstrap,"Structure (30+ dirs), Makefile, SQLite schema, 4 Odoo modules, Test generator, GLOSSARY.md, AI Handoff Protocol, Sequence diagrams",2025-10-06,2025-10-06
Epic,Phase 1: POC (Proof of Concept),Prove offline-first architecture viability: Hybrid Logical Clock SQLite buffer Circuit Breaker Two-Phase Fiscalization Sync Worker Heartbeat,,Highest,89,poc,"POC-4 + POC-5 passed, P95 печати ≤7с, throughput ≥20 чеков/мин",2025-10-06,2025-11-09
Epic,Phase 2: MVP (Minimum Viable Product),Full functionality: Odoo models (prescription lens MO) Views connector_b import Offline UI Advanced patterns (Saga Bulkhead) UAT testing,,Highest,118,mvp,"UAT ≥95% pass, offline UAT 100%, 0 блокирующих дефектов, дубликаты=0, P95≤7s",2025-11-10,2025-12-07
Epic,Phase 3: Stabilization (Buffer Week),Load testing performance optimization bug fixes documentation updates rollback procedures,,High,21,buffer,"Нагрузка pass (P95≤7s 0% errors), 0 P1/P2 дефектов, documentation updated, rollback tested",2025-12-08,2025-12-14
Epic,Phase 4: Pilot Deployment,Real deployment to 2 locations (4 POS terminals): installation UPS setup staff training monitoring setup stress testing,,High,41,pilot,"Доступность ≥99.5% (2 weeks), 0 P1 incidents, monitoring active, stress test passed",2025-12-15,2026-01-11
Epic,Phase 5: Soft Launch,Scale to 5 locations (10 POS terminals): capacity metrics validation bottleneck identification optimization,,Medium,0,soft-launch,"Capacity metrics OK, PostgreSQL query P95<50ms, Celery critical queue<30, no OOM/CPU throttling",2026-01-12,2026-01-25
Epic,Phase 6: Production Rollout,Full production: 20 locations (40 POS terminals) pgbouncer setup DR testing complete documentation Day 2 Ops procedures,,Medium,0,production,"RTO≤1ч, RPO≤24ч, 40 POS operational, admin guide ≥50 pages, runbook ≥20 scenarios",2026-01-26,2026-02-22
Epic,Post-MVP Deployment Preparation,Prepare OpticsERP for production deployment after MVP completion: Russian UI localization installation documentation CI/CD pipeline,,High,24,post-mvp,"Russian UI 100% translated; Installation guide complete; CI/CD pipeline operational; Zero-downtime deployments working",2025-11-30,2025-12-28
Story,Implement Hybrid Logical Clock (HLC),Create kkt_adapter/app/hlc.py with HybridTimestamp dataclass and thread-safe implementation,Phase 1: POC (Proof of Concept),Highest,3,"poc,week1,hlc,core","HLC generates monotonic timestamps; Logical counter increments within same second; Ordering works: server_time > local_time > logical_counter; Thread-safe: 100 concurrent calls without race conditions",,
Story,Create HLC Unit Tests,Create tests/unit/test_hlc.py with comprehensive HLC testing,Phase 1: POC (Proof of Concept),Highest,2,"poc,week1,hlc,test","test_hlc_monotonic() passes; test_hlc_same_second() passes; test_hlc_ordering() passes; test_hlc_thread_safe() passes; 5+ tests total",,
Story,Implement SQLite Buffer CRUD,Create kkt_adapter/app/buffer.py with BufferDB class and all CRUD operations,Phase 1: POC (Proof of Concept),Highest,5,"poc,week1,buffer,sqlite","Receipts save with status=pending; Pending receipts selected with ORDER BY hlc; mark_synced updates status + server_time; DLQ works (INSERT to dlq table); buffer_status returns correct statistics; WAL mode works (concurrent inserts without locks)",,
Story,Create Buffer DB Unit Tests,Create tests/unit/test_buffer_db.py with 8+ comprehensive tests,Phase 1: POC (Proof of Concept),Highest,3,"poc,week1,buffer,test","test_insert_receipt() passes; test_get_pending_receipts() passes; test_mark_synced() passes; test_move_to_dlq() passes; test_buffer_status() passes; test_hlc_ordering() passes; test_concurrent_inserts() passes; 8+ tests total",,
Story,Create FastAPI Main Application,Create kkt_adapter/app/main.py with FastAPI initialization startup/shutdown events CORS,Phase 1: POC (Proof of Concept),Highest,3,"poc,week2,fastapi,api","FastAPI starts without errors; Startup event initializes SQLite buffer; Shutdown event cleans up; CORS middleware configured; Exception handlers work",,
Story,Create Pydantic Models,Create kkt_adapter/app/models.py with all Pydantic request/response models,Phase 1: POC (Proof of Concept),High,2,"poc,week2,pydantic,models","ReceiptRequest model defined; ReceiptResponse model defined; BufferStatusResponse model defined; HealthResponse model defined; Pydantic validation works",,
Story,Implement Health Endpoint,Create GET /health endpoint with SQLite and disk space checks,Phase 1: POC (Proof of Concept),High,1,"poc,week2,api,health","/health returns 200 OK; SQLite connection check works; Disk space check (≥1GB free); Returns HealthResponse",,
Story,Implement Buffer Status Endpoint,Create GET /v1/kkt/buffer/status endpoint,Phase 1: POC (Proof of Concept),High,1,"poc,week2,api,buffer","/buffer/status returns 200 OK; Calls buffer_db.get_buffer_status(); Calculates percent_full; Returns BufferStatusResponse",,
Story,Implement Receipt Endpoint (Phase 1),Create POST /v1/kkt/receipt endpoint (Phase 1: buffer only),Phase 1: POC (Proof of Concept),Highest,2,"poc,week2,api,receipt","POST /receipt saves to buffer; Idempotency-Key required (400 without); Duplicate Idempotency-Key → 409 Conflict; Validation works (400 on invalid data)",,
Story,Create Receipt Endpoint Integration Tests,Create tests/integration/test_receipt_endpoint.py,Phase 1: POC (Proof of Concept),High,2,"poc,week2,test,integration","test_create_receipt_success() passes; test_idempotency_key_required() passes; test_duplicate_idempotency_key() passes; test_invalid_receipt_data() passes; 4+ tests total",,
Story,Implement Circuit Breaker for OFD,Create kkt_adapter/app/ofd_client.py with Circuit Breaker pattern,Phase 1: POC (Proof of Concept),Highest,5,"poc,week3,circuit-breaker,ofd","CB in CLOSED state passes requests; CB opens after 5 consecutive failures; CB transitions to HALF_OPEN after 60s; CB closes after 2 successful probes; Metrics cb_state cb_opens_total work",,
Story,Create Mock OFD Server,Create tests/mocks/ofd_mock.py with FastAPI mock server,Phase 1: POC (Proof of Concept),High,2,"poc,week3,mock,ofd","POST /receipts returns 200 OK; POST /receipts can return 503 for tests; Mock server runs independently",,
Story,Create Circuit Breaker Unit Tests,Create tests/unit/test_circuit_breaker.py,Phase 1: POC (Proof of Concept),High,3,"poc,week3,test,circuit-breaker","test_cb_closed_normal() passes; test_cb_opens_after_5_failures() passes; test_cb_half_open_recovery() passes; test_cb_reopens_on_failure() passes; test_cb_metrics() passes; 5+ tests total",,
Story,Update FastAPI for Phase 2 Fiscalization,Update kkt_adapter/app/main.py with background task for Phase 2,Phase 1: POC (Proof of Concept),Highest,2,"poc,week3,fiscalization,async","Background task sync_receipt_phase2() implemented; Phase 2 runs asynchronously after Phase 1; No blocking on main thread",,
Story,Create Fiscal Module,Create kkt_adapter/app/fiscal.py with two-phase fiscalization,Phase 1: POC (Proof of Concept),Highest,5,"poc,week3,fiscalization,core","Phase 1 always succeeds (even if OFD down); Phase 2 syncs when OFD online; Phase 2 buffers when OFD offline; Circuit Breaker protects from cascading failures",,
Story,Create Mock KKT Driver,Create kkt_adapter/app/kkt_driver.py with mock implementation,Phase 1: POC (Proof of Concept),Medium,1,"poc,week3,mock,kkt","print_receipt() logs to file; Timeout 10s; Returns success/failure",,
Story,Complete Receipt Endpoint Implementation,Update POST /v1/kkt/receipt with full two-phase logic,Phase 1: POC (Proof of Concept),Highest,2,"poc,week3,api,fiscalization","Phase 1 saves to buffer; Background Phase 2 syncs to OFD; Returns ReceiptResponse; Works offline and online",,
Story,Create Two-Phase Integration Tests,Create tests/integration/test_two_phase.py,Phase 1: POC (Proof of Concept),High,3,"poc,week3,test,integration","test_phase1_always_succeeds() passes; test_phase2_syncs_when_online() passes; test_phase2_buffers_when_offline() passes; test_cb_open_blocks_phase2() passes; 4+ tests total",,
Story,Setup Redis in Docker Compose,Add Redis service to docker-compose.yml,Phase 1: POC (Proof of Concept),High,1,"poc,week4,redis,infra","Redis 7-alpine service defined; Port 6379 exposed; Redis starts successfully",,
Story,Implement Sync Worker,Create kkt_adapter/app/sync_worker.py with distributed locking,Phase 1: POC (Proof of Concept),Highest,5,"poc,week4,sync,core","Sync worker syncs pending receipts; Distributed Lock prevents concurrent syncs; Exponential backoff works (1s 2s 4s ... 60s max); Receipts move to DLQ after 20 retries; CB OPEN blocks sync attempts",,
Story,Integrate APScheduler for Sync,Add APScheduler job to kkt_adapter/app/main.py,Phase 1: POC (Proof of Concept),High,1,"poc,week4,scheduler,sync","APScheduler imported; Job sync_buffer() runs every 60s; Scheduler starts on startup",,
Story,Create Sync Worker Unit Tests,Create tests/unit/test_sync_worker.py,Phase 1: POC (Proof of Concept),High,3,"poc,week4,test,sync","test_sync_pending_receipts() passes; test_distributed_lock() passes; test_exponential_backoff() passes; test_move_to_dlq_after_20() passes; test_cb_open_skips_sync() passes; 5+ tests total",,
Story,Implement Heartbeat Module,Create kkt_adapter/app/heartbeat.py with hysteresis logic,Phase 1: POC (Proof of Concept),High,3,"poc,week4,heartbeat,monitoring","Heartbeat sends every 30s; Payload contains buffer_status + cb_state; Hysteresis: 3 failures → offline 2 successes → online; Timeout 5s (non-blocking)",,
Story,Integrate APScheduler for Heartbeat,Add heartbeat job to APScheduler,Phase 1: POC (Proof of Concept),High,1,"poc,week4,scheduler,heartbeat","Job send_heartbeat() runs every 30s; Heartbeat runs independently",,
Story,Create Mock Odoo Server,Create tests/mocks/odoo_mock.py with heartbeat endpoint,Phase 1: POC (Proof of Concept),Medium,1,"poc,week4,mock,odoo","POST /api/v1/kkt/heartbeat returns 200 OK; Mock server runs independently",,
Story,Create Heartbeat Unit Tests,Create tests/unit/test_heartbeat.py,Phase 1: POC (Proof of Concept),High,2,"poc,week4,test,heartbeat","test_heartbeat_success() passes; test_heartbeat_hysteresis_offline() passes; test_heartbeat_hysteresis_online() passes; test_heartbeat_payload() passes; 4+ tests total",,
Story,Create POC-1 Test (KKT Emulator),Create tests/poc/test_poc_1_emulator.py,Phase 1: POC (Proof of Concept),Highest,3,"poc,week5,test,poc-1","50 receipts created successfully; All receipts buffered (status=pending); Mock KKT printed all receipts; P95 response time ≤ 7s; Throughput ≥ 20 receipts/min",,
Story,Create POC-4 Test (8h Offline),Create tests/poc/test_poc_4_offline.py,Phase 1: POC (Proof of Concept),Highest,5,"poc,week5,test,poc-4,offline","50 receipts created in offline mode; All buffered (no OFD calls during offline); Sync completes within 10 min after restore; All receipts synced (status=synced); No duplicates in OFD",,
Story,Create POC-5 Test (Split-Brain),Create tests/poc/test_poc_5_splitbrain.py,Phase 1: POC (Proof of Concept),Highest,5,"poc,week5,test,poc-5,split-brain","Distributed Lock prevents concurrent syncs; Network flapping handled correctly (CB opens/closes); HLC ensures correct ordering",,
Story,Create POC Report and Sign-Off,Create docs/POC_REPORT.md with results and Go/No-Go decision,Phase 1: POC (Proof of Concept),High,2,"poc,week5,documentation,sign-off","POC-1 PASS documented; POC-4 PASS documented; POC-5 PASS documented; Metrics documented (P95≤7s throughput≥20/min); Screenshots included (if available); Go decision made",,
Story,Create Prescription Model,Create addons/optics_core/models/prescription.py,Phase 2: MVP (Minimum Viable Product),Highest,5,"mvp,week6,odoo,prescription","Prescription model creates in Odoo; Field validation works (Sph Cyl Axis PD); SQL constraints prevent incorrect data; Unit tests cover all validations",,
Story,Create Prescription Unit Tests,Create tests/unit/test_prescription.py,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week6,test,prescription","test_sph_range_validation() passes; test_cyl_negative_only() passes; test_axis_required_if_cyl() passes; test_pd_range() passes; 5+ tests total",,
Story,Create Lens Model,Create addons/optics_core/models/lens.py,Phase 2: MVP (Minimum Viable Product),High,3,"mvp,week6,odoo,lens","Lens model creates; Types (single/bifocal/progressive) work; Index validation (1.5-1.9); Coating selection fields",,
Story,Create Lens Unit Tests,Create tests/unit/test_lens.py,Phase 2: MVP (Minimum Viable Product),High,1,"mvp,week6,test,lens","test_lens_types() passes; test_index_range() passes; test_coating_options() passes; 3+ tests total",,
Story,Create Manufacturing Order Model,Create addons/optics_core/models/manufacturing_order.py,Phase 2: MVP (Minimum Viable Product),High,5,"mvp,week6,odoo,manufacturing","MO model creates; Workflow transitions work; State constraints prevent incorrect transitions",,
Story,Create Manufacturing Order Unit Tests,Create tests/unit/test_manufacturing_order.py,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week6,test,manufacturing","test_workflow_transitions() passes; test_state_constraints() passes; 3+ tests total",,
Story,Create Prescription Views,Create addons/optics_core/views/prescription_views.xml,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week7,odoo,views","Tree view works; Form view works; Search view works; All views render correctly in Odoo",,
Story,Create Lens Views,Create addons/optics_core/views/lens_views.xml,Phase 2: MVP (Minimum Viable Product),High,1,"mvp,week7,odoo,views","Tree view works; Form view works; Views render correctly",,
Story,Create Manufacturing Order Views,Create addons/optics_core/views/manufacturing_order_views.xml,Phase 2: MVP (Minimum Viable Product),High,3,"mvp,week7,odoo,views","Tree view with statusbar works; Form view with statusbar works; Search view works; Statusbar shows workflow",,
Story,Create Import Profile Model,Create addons/connector_b/models/import_profile.py,Phase 2: MVP (Minimum Viable Product),High,3,"mvp,week7,odoo,connector","Import profile creates with mapping; Column mapping stored as JSON; Active flag works",,
Story,Create Import Job Model,Create addons/connector_b/models/import_job.py,Phase 2: MVP (Minimum Viable Product),High,5,"mvp,week7,odoo,connector","Import job processes Excel/CSV files; run_import() method works; State transitions work; Log_ids relation works",,
Story,Create Import Wizard,Create addons/connector_b/wizards/import_wizard.py,Phase 2: MVP (Minimum Viable Product),High,3,"mvp,week7,odoo,wizard","File upload works; Profile selection works; Preview shows first 10 rows; Confirm triggers run_import()",,
Story,Create Connector Import Unit Tests,Create tests/unit/test_connector_import.py,Phase 2: MVP (Minimum Viable Product),High,3,"mvp,week7,test,connector","test_import_profile_creation() passes; test_import_job_run() passes; test_import_validation() passes; Upsert works (create + update); Validation with logging works",,
Story,Create Offline Indicator Widget,Create addons/optics_pos_ru54fz/static/src/js/offline_indicator.js,Phase 2: MVP (Minimum Viable Product),Highest,5,"mvp,week8,pos,ui","Offline indicator displays in POS UI; Status updates every 30s; Buffer percentage shown; CB state (CLOSED/OPEN) displayed; Color coding: green/yellow/red",,
Story,Create POS Config Views for KKT Adapter,Create addons/optics_pos_ru54fz/views/pos_config_views.xml,Phase 2: MVP (Minimum Viable Product),High,1,"mvp,week8,pos,config","kkt_adapter_url field added; Configuration saves correctly",,
Story,Implement Saga Pattern (Refund Blocking),Implement refund blocking in optics_pos_ru54fz for unsynced receipts,Phase 2: MVP (Minimum Viable Product),Highest,3,"mvp,week8,saga,pattern","Refund blocked if original not synced (HTTP 409); Refund allowed if original synced; POST /v1/pos/refund checks buffer",,
Story,Implement Bulkhead Pattern (Celery Queues),Configure Celery queues: critical high default low,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week8,bulkhead,celery","4 queues configured: critical high default low; sync_buffer → critical queue; send_email → low queue; Queue isolation works",,
Story,Create Saga Pattern Integration Tests,Create tests/integration/test_saga_pattern.py,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week8,test,saga","test_refund_blocked_if_not_synced() passes; test_refund_allowed_if_synced() passes; 2+ tests total",,
Story,Create UAT-01 Sale Test,Create tests/uat/test_uat_01_sale.py,Phase 2: MVP (Minimum Viable Product),Highest,3,"mvp,week9,uat,uat-01","UAT-01: Sale with prescription passes; End-to-end flow works",,
Story,Create UAT-02 Refund Test,Create tests/uat/test_uat_02_refund.py,Phase 2: MVP (Minimum Viable Product),Highest,2,"mvp,week9,uat,uat-02","UAT-02: Refund passes; Refund flow works correctly",,
Story,Create UAT-03 Import Test,Create tests/uat/test_uat_03_import.py,Phase 2: MVP (Minimum Viable Product),Highest,3,"mvp,week9,uat,uat-03","UAT-03: Supplier price import passes; Import flow works with preview",,
Story,Create UAT-04 Reports Test,Create tests/uat/test_uat_04_reports.py,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week9,uat,uat-04","UAT-04: X/Z reports pass; Reports generate correctly",,
Story,Create UAT-08 Offline Sale Test,Create tests/uat/test_uat_08_offline_sale.py,Phase 2: MVP (Minimum Viable Product),Highest,3,"mvp,week9,uat,uat-08,offline","UAT-08: Offline sale passes; Sale works without OFD connection",,
Story,Create UAT-09 Refund Blocked Test,Create tests/uat/test_uat_09_refund_blocked.py,Phase 2: MVP (Minimum Viable Product),Highest,2,"mvp,week9,uat,uat-09,offline","UAT-09: Refund blocking passes; Refund blocked if original not synced",,
Story,Create UAT-10b Buffer Overflow Test,Create tests/uat/test_uat_10b_buffer_overflow.py,Phase 2: MVP (Minimum Viable Product),Highest,3,"mvp,week9,uat,uat-10b,offline","UAT-10b: Buffer overflow (200 receipts) passes; System handles buffer capacity correctly",,
Story,Create UAT-10c Power Loss Test,Create tests/uat/test_uat_10c_power_loss.py,Phase 2: MVP (Minimum Viable Product),Highest,3,"mvp,week9,uat,uat-10c,offline","UAT-10c: Power loss recovery passes; WAL mode preserves data integrity",,
Story,Create UAT-11 Offline Reports Test,Create tests/uat/test_uat_11_offline_reports.py,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week9,uat,uat-11,offline","UAT-11: X/Z reports in offline mode pass; Reports work without connection",,
Story,Fix Critical Bugs from UAT,Fix all critical bugs discovered during UAT testing,Phase 2: MVP (Minimum Viable Product),Highest,8,"mvp,week9,bugfix","All P1 bugs fixed; All P2 bugs fixed or deferred; Regression tests pass",,
Story,Re-run Full UAT Suite,Execute complete UAT test suite after bug fixes,Phase 2: MVP (Minimum Viable Product),Highest,3,"mvp,week9,uat,regression","≥95% UAT passed (9/11 minimum); Offline UAT 100% (UAT-08/09/10b/10c/11 all PASS); No new regressions",,
Story,Verify MVP DoD Criteria,Verify all Definition of Done criteria from CLAUDE.md §6.1,Phase 2: MVP (Minimum Viable Product),Highest,2,"mvp,week9,dod,verification","≥95% UAT passed; 0 blocking defects; Duplicates = 0; P95 печати ≤7с; Circuit Breaker works; Distributed Lock works; Saga Pattern works",,
Story,Create MVP Sign-Off Document,Document MVP completion and sign-off,Phase 2: MVP (Minimum Viable Product),High,2,"mvp,week9,documentation,sign-off","MVP achievements documented; All DoD criteria documented; Known issues listed; Sign-off obtained",,
Story,Create Load Test Suite (Locust),Create tests/load/locustfile.py with 2 scenarios,Phase 3: Stabilization (Buffer Week),Highest,5,"buffer,week10,load-test,performance","Scenario 1: 1 POS × 100 receipts/hour × 10h; Scenario 2: 5 POS × 50 receipts/hour × 8h; P95 ≤7s for both scenarios; 0% errors",,
Story,Execute Load Tests and Analyze Results,Run load tests and collect performance metrics,Phase 3: Stabilization (Buffer Week),Highest,3,"buffer,week10,load-test,analysis","Scenario 1: P95 ≤7s 0% errors; Scenario 2: P95 ≤7s 0% errors; No OOM/CPU throttling; Metrics collected and analyzed",,
Story,Fix Performance Issues from Load Tests,Address any performance bottlenecks discovered,Phase 3: Stabilization (Buffer Week),Highest,5,"buffer,week10,performance,optimization","All performance issues identified; Critical issues fixed; Load tests re-run successfully",,
Story,Update Core Documentation (docs 1-5),Update all 5 core documents if architecture changed,Phase 3: Stabilization (Buffer Week),High,3,"buffer,week10,documentation","All 5 docs reviewed; Architecture changes reflected; Performance metrics updated; Examples updated",,
Story,Create Rollback Procedure Documentation,Document rollback procedures for deployments,Phase 3: Stabilization (Buffer Week),High,3,"buffer,week10,documentation,rollback","Rollback steps documented; Data preservation steps included; Verification checklist included; Rollback tested",,
Story,Automate DoD Checks (CI/CD Gate),Create automated CI/CD gates for DoD verification,Phase 3: Stabilization (Buffer Week),High,5,"buffer,week10,ci-cd,automation","DoD checks automated; CI/CD pipeline configured; Blocking defects prevent deployment; Metrics automatically verified",,
Story,Install KKT Adapters on 4 POS Terminals,Physical installation and configuration of KKT adapters,Phase 4: Pilot Deployment,Highest,8,"pilot,week11-12,deployment,hardware","4 KKT adapters installed; All adapters connected to Odoo; Heartbeat working on all; Test receipts printed",,
Story,Configure UPS and Graceful Shutdown,Setup UPS and graceful shutdown scripts for all terminals,Phase 4: Pilot Deployment,Highest,5,"pilot,week11-12,infra,ups","UPS configured on all terminals; Graceful shutdown scripts tested; Power loss simulation passed; Data integrity preserved",,
Story,Train Cashiers (≥90% Pass Rate),Conduct cashier training with assessment,Phase 4: Pilot Deployment,Highest,8,"pilot,week11-12,training","Training materials prepared; All cashiers trained; ≥90% pass assessment test; Offline procedures understood",,
Story,Create X/Z Reports and Offline Buffer Procedures,Document operational procedures for reports and offline mode,Phase 4: Pilot Deployment,High,3,"pilot,week11-12,procedures","X/Z report procedure documented; Offline buffer monitoring procedure; Escalation procedures defined; Procedures approved",,
Story,Setup Grafana Dashboard (4 Panels),Create Grafana dashboard with 4 monitoring panels,Phase 4: Pilot Deployment,Highest,5,"pilot,week13-14,monitoring,grafana","Panel 1: POS status map (color-coded); Panel 2: Circuit Breaker states (24h); Panel 3: Offline buffer (% top-5 avg sync); Panel 4: Performance (P95 throughput DLQ); Dashboard accessible",,
Story,Configure Prometheus Alerts (P1/P2/P3),Setup Prometheus alerting rules for all severity levels,Phase 4: Pilot Deployment,Highest,3,"pilot,week13-14,monitoring,alerts","P1 alerts configured (buffer full etc); P2 alerts configured (buffer 80% CB open); P3 alerts configured (warnings); Alert thresholds tuned",,
Story,Integrate Alert Channels (Email/Telegram),Configure alert delivery to email and Telegram,Phase 4: Pilot Deployment,High,2,"pilot,week13-14,monitoring,alerts","Email integration works; Telegram integration works; Test alerts delivered; Alert routing configured",,
Story,Execute Stress Test (2 POS × 8h × 50 Receipts),Run stress test on pilot deployment,Phase 4: Pilot Deployment,Highest,5,"pilot,week13-14,stress-test","2 POS offline for 8h; 50 receipts created per POS; Sync completes within 10 min; 100% receipts synced; No data loss",,
Story,Create Decision Tree for L1/L2 Support,Document support escalation decision tree,Phase 4: Pilot Deployment,High,3,"pilot,week13-14,support,documentation","L1 procedures documented; L2 escalation criteria defined; Decision tree diagram created; Support team trained",,
Story,Document FN Replacement Procedure,Create procedure for fiscal drive (FN) replacement,Phase 4: Pilot Deployment,High,2,"pilot,week13-14,procedures,fn","Pre-replacement steps documented; Replacement procedure documented; Buffer sync procedure included; Procedure tested",,
Story,Setup Test Infrastructure Automation,"Implement test infrastructure automation: pytest.ini with markers (unit integration poc slow redis fastapi); tests/conftest.py with centralized fixtures (fastapi_server_auto mock_ofd_server mock_odoo_server clean_buffer redis_available); Makefile with commands (test-unit test-integration test-poc test-all test-coverage clean-test); docker-compose.test.yml for containerized testing; Update POC tests to use shared fixtures",Phase 1: POC (Proof of Concept),Highest,5,"poc,week5,test-infra,automation","pytest.ini created with 6+ markers; tests/conftest.py created with 5+ fixtures; Makefile created with 7+ commands; docker-compose.test.yml created with Redis service; All 3 POC tests updated to use shared fixtures; make test-all works without manual infrastructure startup; Test execution time <2 min (with pytest-xdist); Documentation updated",,
Story,Translate Odoo UI to Russian (Перевод UI на русский),Translate all Odoo UI elements to Russian for better UX in Russian-speaking locations. Install Russian language pack; translate all custom modules (optics_core optics_pos_ru54fz connector_b ru_accounting_extras); configure regional settings (date dd.mm.yyyy currency ₽ numbers 1 234 56); translate POS interface and fiscal receipts; create translation glossary,Post-MVP Deployment Preparation,High,13,"post-mvp,localization,ui,pilot-prep","All custom modules fully translated (optics_core optics_pos_ru54fz connector_b ru_accounting_extras); Russian language pack installed; Date/time formats match Russian standards (dd.mm.yyyy 24h); Currency/number formatting configured (₽ space thousands comma decimal); 100% Russian UI coverage verified; POS interface fully operational in Russian; All fiscal receipts/reports in Russian; Translation glossary created; User testing confirms ≥90% satisfaction",,
Story,Create Installation User Guide,Create comprehensive installation and deployment documentation for technical staff and sysadmins. Document system requirements (hardware software network); write step-by-step installation guide with screenshots; create configuration guide (.env Docker PostgreSQL Redis); write troubleshooting guide; create backup/restore/upgrade scripts; test guide with non-technical user,Post-MVP Deployment Preparation,High,8,"post-mvp,documentation,deployment,pilot-prep","Complete installation guide (10 sections + 2 appendices); System requirements documented; Installation steps with screenshots; Configuration guide complete; Troubleshooting section (common issues + solutions); Upgrade guide with rollback procedures; Scripts created (prep_server.sh validate_config.py backup.sh restore.sh upgrade.sh); .env.example template created; Non-technical user can deploy <2h; Technical review passed (DevOps team); Backup/restore tested successfully",,
Story,Implement CI/CD Deployment Pipeline,Design and implement CI/CD pipeline for automated testing building and deployment. Create GitHub Actions workflows (CI build deploy-staging deploy-production); automate testing (unit integration UAT); implement Docker image build/push; configure staging auto-deployment; setup production deployment with approval gates; create rollback automation; implement zero-downtime deployments,Post-MVP Deployment Preparation,Highest,13,"post-mvp,cicd,devops,automation,production-prep","Automated testing on every commit (unit integration UAT); Docker images built automatically; Staging auto-deploys on merge to main; Production deployment with manual approval; Rollback capability <5min; Zero-downtime deployments working; GitHub Actions workflows created (ci.yml build.yml deploy-staging.yml deploy-production.yml); Security scanning (Trivy) integrated; Health checks/smoke tests automated; Slack notifications configured; Deployment success rate ≥95%; CI pipeline <10min; Staging deployment <10min; Production deployment <15min; All secrets configured in GitHub",,
