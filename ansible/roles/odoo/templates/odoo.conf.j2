[options]
# Database Configuration
db_host = {{ odoo_db_host }}
db_port = {{ odoo_db_port }}
db_user = {{ odoo_db_user }}
db_password = {{ lookup('env', 'POSTGRES_PASSWORD') }}
db_name = {{ odoo_db_name }}
db_maxconn = 64
db_template = template0

# Addons Path
addons_path = /mnt/extra-addons,/usr/lib/python3/dist-packages/odoo/addons

# Server Configuration
http_interface = 0.0.0.0
http_port = 8069
longpolling_port = 8072

# Workers Configuration
workers = {{ odoo_workers }}
max_cron_threads = {{ odoo_max_cron_threads }}
limit_memory_hard = 2684354560
limit_memory_soft = 2147483648
limit_request = 8192
limit_time_cpu = 600
limit_time_real = 1200
limit_time_real_cron = 3600

# Logging
logfile = {{ odoo_logfile }}
log_level = {{ odoo_log_level }}
log_handler = :INFO
log_db = False
log_db_level = warning

# Security
admin_passwd = {{ odoo_admin_password }}
list_db = {{ odoo_list_db | lower }}
{% if odoo_proxy_mode %}
proxy_mode = True
{% endif %}

# Session
session_timeout = {{ odoo_session_timeout }}

# Internationalization
without_demo = {{ odoo_without_demo | lower }}
translate_modules = ['all']

# Performance
unaccent = True

# Email (TODO: configure SMTP for production)
# email_from = noreply@opticserp.local
# smtp_server = localhost
# smtp_port = 25
# smtp_ssl = False
# smtp_user = False
# smtp_password = False

# Reporting
# reportgz = False
